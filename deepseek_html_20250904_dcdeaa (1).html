<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Golden Directory File Manager</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #2c3e50;
            --secondary: #3498db;
            --accent: #e74c3c;
            --light: #ecf0f1;
            --dark: #2c3e50;
            --success: #27ae60;
            --warning: #f39c12;
            --danger: #e74c3c;
            --gray: #95a5a6;
            --shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            --border-radius: 8px;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f7fa;
            color: #333;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
            padding: 20px 0;
            border-radius: var(--border-radius);
            margin-bottom: 25px;
            box-shadow: var(--shadow);
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 20px;
        }
        
        h1 {
            font-size: 2.2rem;
            margin-bottom: 5px;
        }
        
        .subtitle {
            font-size: 1rem;
            opacity: 0.9;
        }
        
        .logo {
            font-size: 2.5rem;
            color: white;
        }
        
        .dashboard {
            display: grid;
            grid-template-columns: 300px 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .card {
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            padding: 20px;
            margin-bottom: 20px;
            transition: transform 0.3s ease;
        }
        
        .card:hover {
            transform: translateY(-5px);
        }
        
        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid #eee;
            padding-bottom: 10px;
            margin-bottom: 15px;
            font-weight: 600;
            color: var(--primary);
        }
        
        .stats {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }
        
        .stat-box {
            text-align: center;
            padding: 15px;
            border-radius: var(--border-radius);
            background: var(--light);
            transition: transform 0.3s ease;
        }
        
        .stat-box:hover {
            transform: translateY(-3px);
        }
        
        .stat-number {
            font-size: 2rem;
            font-weight: bold;
            color: var(--secondary);
        }
        
        .stat-label {
            font-size: 0.9rem;
            color: #666;
        }
        
        .btn {
            padding: 10px 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }
        
        .btn i {
            margin-right: 5px;
        }
        
        .btn-primary {
            background-color: var(--secondary);
            color: white;
        }
        
        .btn-primary:hover {
            background-color: #2980b9;
        }
        
        .btn-success {
            background-color: var(--success);
            color: white;
        }
        
        .btn-success:hover {
            background-color: #219a52;
        }
        
        .btn-warning {
            background-color: var(--warning);
            color: white;
        }
        
        .btn-warning:hover {
            background-color: #e67e22;
        }
        
        .btn-danger {
            background-color: var(--danger);
            color: white;
        }
        
        .btn-danger:hover {
            background-color: #c0392b;
        }
        
        .file-list {
            width: 100%;
            border-collapse: collapse;
        }
        
        .file-list th, .file-list td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        
        .file-list th {
            background-color: var(--light);
            font-weight: 600;
        }
        
        .file-list tr:hover {
            background-color: #f9f9f9;
        }
        
        .tag {
            display: inline-block;
            padding: 3px 8px;
            border-radius: 20px;
            font-size: 0.8rem;
            margin-right: 5px;
        }
        
        .tag-category {
            background-color: #e1f0ff;
            color: #2c6fb1;
        }
        
        .tag-status {
            background-color: #e6f7ee;
            color: #13854e;
        }
        
        .progress-bar {
            height: 10px;
            background-color: #eee;
            border-radius: 5px;
            overflow: hidden;
            margin: 10px 0;
        }
        
        .progress-fill {
            height: 100%;
            background-color: var(--secondary);
            width: 0%;
            transition: width 0.5s ease;
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
        }
        
        .form-control {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 1rem;
        }
        
        .upload-area {
            border: 2px dashed #ccc;
            border-radius: var(--border-radius);
            padding: 25px;
            text-align: center;
            margin-bottom: 20px;
            transition: all 0.3s ease;
        }
        
        .upload-area:hover, .upload-area.dragover {
            border-color: var(--secondary);
            background-color: #f0f8ff;
        }
        
        .category-filters {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .category-filter {
            padding: 5px 10px;
            background-color: var(--light);
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .category-filter.active {
            background-color: var(--secondary);
            color: white;
        }
        
        .folder-tree {
            max-height: 500px;
            overflow-y: auto;
        }
        
        .folder-item {
            padding: 8px 5px;
            border-bottom: 1px solid #eee;
            cursor: pointer;
            display: flex;
            align-items: center;
            transition: background-color 0.2s ease;
        }
        
        .folder-item i {
            margin-right: 8px;
            color: var(--secondary);
        }
        
        .folder-item:hover {
            background-color: #f0f8ff;
        }
        
        .folder-item.active {
            background-color: #e1f0ff;
            font-weight: 600;
        }
        
        footer {
            text-align: center;
            margin-top: 30px;
            padding: 20px;
            color: #777;
            font-size: 0.9rem;
        }
        
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 20px;
            border-radius: var(--border-radius);
            color: white;
            font-weight: 600;
            box-shadow: var(--shadow);
            z-index: 1000;
            opacity: 0;
            transform: translateX(100px);
            transition: all 0.3s ease;
        }
        
        .notification.show {
            opacity: 1;
            transform: translateX(0);
        }
        
        .notification.success {
            background-color: var(--success);
        }
        
        .notification.error {
            background-color: var(--danger);
        }
        
        .notification.warning {
            background-color: var(--warning);
        }
        
        .directory-selector {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .directory-path {
            padding: 10px;
            background-color: var(--light);
            border-radius: 4px;
            flex-grow: 1;
            font-family: monospace;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }
        
        @media (max-width: 1024px) {
            .dashboard {
                grid-template-columns: 1fr;
            }
        }
        
        @media (max-width: 768px) {
            .stats {
                grid-template-columns: 1fr;
            }
            
            .header-content {
                flex-direction: column;
                text-align: center;
            }
            
            .logo {
                margin-top: 15px;
            }
            
            .directory-selector {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div id="notification" class="notification"></div>
    
    <header>
        <div class="container">
            <div class="header-content">
                <div>
                    <h1>Golden Directory File Manager</h1>
                    <p class="subtitle">Organize, categorize, and manage your files with ease</p>
                </div>
                <div class="logo">
                    <i class="fas fa-folder-tree"></i>
                </div>
            </div>
        </div>
    </header>

    <div class="container">
        <div class="dashboard">
            <div class="left-panel">
                <div class="card">
                    <div class="card-header">
                        <span>Directory Selection</span>
                        <i class="fas fa-folder-open"></i>
                    </div>
                    <div class="directory-selector">
                        <input type="text" id="directory-path" class="directory-path" placeholder="E:\Golden-Dir" value="E:\Golden-Dir">
                        <button class="btn btn-primary" onclick="selectDirectory()">
                            <i class="fas fa-folder"></i> Browse
                        </button>
                    </div>
                    <button class="btn btn-success" onclick="initializeDirectory()" style="width: 100%;">
                        <i class="fas fa-cogs"></i> Initialize Directory
                    </button>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span>Directory Stats</span>
                        <i class="fas fa-chart-bar"></i>
                    </div>
                    <div class="stats">
                        <div class="stat-box">
                            <div class="stat-number" id="total-files">0</div>
                            <div class="stat-label">Total Files</div>
                        </div>
                        <div class="stat-box">
                            <div class="stat-number" id="processed-files">0</div>
                            <div class="stat-label">Processed</div>
                        </div>
                        <div class="stat-box">
                            <div class="stat-number" id="categories-count">0</div>
                            <div class="stat-label">Categories</div>
                        </div>
                        <div class="stat-box">
                            <div class="stat-number" id="success-rate">100%</div>
                            <div class="stat-label">Success Rate</div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span>Upload Files</span>
                        <i class="fas fa-upload"></i>
                    </div>
                    <div class="upload-area" id="upload-area">
                        <p><i class="fas fa-cloud-upload-alt fa-2x"></i></p>
                        <p>Drag & drop files here or click to browse</p>
                        <input type="file" id="file-input" multiple style="display: none;">
                        <button class="btn btn-primary" onclick="document.getElementById('file-input').click()">
                            <i class="fas fa-folder-open"></i> Select Files
                        </button>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="upload-progress"></div>
                    </div>
                    <div id="upload-status">Ready to upload</div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span>Folder Structure</span>
                        <i class="fas fa-sitemap"></i>
                    </div>
                    <div class="folder-tree" id="folder-tree">
                        <!-- Folder structure will be generated here -->
                    </div>
                </div>
            </div>

            <div class="right-panel">
                <div class="card">
                    <div class="card-header">
                        <span>File Browser</span>
                        <div>
                            <button class="btn btn-primary" onclick="processFiles()">
                                <i class="fas fa-cogs"></i> Process Files
                            </button>
                            <button class="btn btn-warning" onclick="simulateScan()">
                                <i class="fas fa-search"></i> Scan Directory
                            </button>
                        </div>
                    </div>
                    
                    <div class="category-filters" id="category-filters">
                        <div class="category-filter active" data-category="all">All Files</div>
                        <!-- Category filters will be added here -->
                    </div>
                    
                    <table class="file-list">
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Category</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="file-table-body">
                            <!-- Files will be listed here -->
                        </tbody>
                    </table>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span>Processing Log</span>
                        <button class="btn btn-danger" onclick="clearLog()">
                            <i class="fas fa-trash"></i> Clear Log
                        </button>
                    </div>
                    <div id="log-container" style="height: 200px; overflow-y: auto; font-family: monospace; font-size: 0.9rem; padding: 10px; background: #f8f9fa; border-radius: 4px;">
                        <div>System initialized. Ready to process files.</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer>
        <div class="container">
            <p>Golden Directory File Manager &copy; 2023 | Designed for Windows domain environments</p>
        </div>
    </footer>

    <script>
        // Sample data for demonstration
        let files = [
            { id: 1, name: 'document_(((draft))).docx', category: 'Documents', status: 'Pending', path: '/Documents' },
            { id: 2, name: 'report__inbox_2025.pdf', category: 'Reports', status: 'Pending', path: '/Reports' },
            { id: 3, name: 'image-Sat-2023-05-12.jpg', category: 'Media', status: 'Processed', path: '/Media' },
            { id: 4, name: 'data-Fri-2023-06-03.xlsx', category: 'Data', status: 'Pending', path: '/Data' },
            { id: 5, name: 'presentation_(((final))).pptx', category: 'Presentations', status: 'Processed', path: '/Presentations' }
        ];

        let categories = ['Documents', 'Reports', 'Media', 'Data', 'Presentations'];
        let logEntries = [];
        let currentDirectory = "E:\\Golden-Dir";
        
        // Folder structure based on your batch script
        const folderStructure = [
            { name: 'personal', icon: 'fas fa-user', children: [
                { name: 'finance', icon: 'fas fa-money-bill-wave', children: [
                    { name: 'taxes', icon: 'fas fa-receipt', children: [
                        { name: '2023', icon: 'fas fa-folder' },
                        { name: '2024', icon: 'fas fa-folder' }
                    ]},
                    { name: 'bank-statements', icon: 'fas fa-landmark', children: [
                        { name: 'Axis Bank', icon: 'fas fa-folder' },
                        { name: 'BOB', icon: 'fas fa-folder' }
                    ]},
                    { name: 'insurance', icon: 'fas fa-shield-alt' },
                    { name: 'investments', icon: 'fas fa-chart-line', children: [
                        { name: 'demat', icon: 'fas fa-folder' },
                        { name: 'ipo', icon: 'fas fa-folder' }
                    ]}
                ]},
                { name: 'education', icon: 'fas fa-graduation-cap', children: [
                    { name: 'transcripts', icon: 'fas fa-file-alt' },
                    { name: 'certificates', icon: 'fas fa-certificate' },
                    { name: 'projects', icon: 'fas fa-project-diagram' }
                ]},
                { name: 'utilities-and-bills', icon: 'fas fa-file-invoice-dollar', children: [
                    { name: 'electricity', icon: 'fas fa-bolt' },
                    { name: 'water', icon: 'fas fa-tint' },
                    { name: 'broadband', icon: 'fas fa-wifi' },
                    { name: 'mobile', icon: 'fas fa-mobile-alt' }
                ]},
                { name: 'health', icon: 'fas fa-heartbeat', children: [
                    { name: 'reports', icon: 'fas fa-file-medical' },
                    { name: 'prescriptions', icon: 'fas fa-prescription' },
                    { name: 'vaccines', icon: 'fas fa-syringe' }
                ]},
                { name: 'property-and-vehicles', icon: 'fas fa-home', children: [
                    { name: 'rental-agreements', icon: 'fas fa-file-contract' },
                    { name: 'vehicle-rc', icon: 'fas fa-car' },
                    { name: 'service-records', icon: 'fas fa-tools' }
                ]},
                { name: 'receipts', icon: 'fas fa-receipt', children: [
                    { name: 'electronics', icon: 'fas fa-laptop' },
                    { name: 'appliances', icon: 'fas fa-blender' }
                ]}
            ]},
            { name: 'work', icon: 'fas fa-briefcase', children: [
                { name: '_inbox', icon: 'fas fa-inbox' },
                { name: '_templates', icon: 'fas fa-stamp' },
                { name: 'clients', icon: 'fas fa-handshake', children: [
                    { name: 'Indusind-Bank', icon: 'fas fa-building', children: [
                        { name: '000_admin', icon: 'fas fa-folder' },
                        { name: '010_requirements', icon: 'fas fa-folder' },
                        { name: '020_design', icon: 'fas fa-folder' },
                        { name: '030_delivery', icon: 'fas fa-folder' },
                        { name: '040_invoices', icon: 'fas fa-folder' }
                    ]},
                    { name: 'globex', icon: 'fas fa-globe' }
                ]},
                { name: 'projects', icon: 'fas fa-project-diagram', children: [
                    { name: 'project-alpha', icon: 'fas fa-code-branch', children: [
                        { name: '00_brief', icon: 'fas fa-folder' },
                        { name: '10_research', icon: 'fas fa-folder' },
                        { name: '20_design', icon: 'fas fa-folder' },
                        { name: '30_build', icon: 'fas fa-folder' },
                        { name: '40_test', icon: 'fas fa-folder' },
                        { name: '90_archive', icon: 'fas fa-folder' }
                    ]},
                    { name: 'project-beta', icon: 'fas fa-code-branch' }
                ]},
                { name: 'meetings', icon: 'fas fa-calendar-alt', children: [
                    { name: '2025', icon: 'fas fa-folder' }
                ]}
            ]},
            { name: 'homelab', icon: 'fas fa-server', children: [
                { name: '_inbox', icon: 'fas fa-inbox' },
                { name: '00_inventory', icon: 'fas fa-clipboard-list' },
                { name: '10_proxmox', icon: 'fas fa-desktop', children: [
                    { name: 'designs', icon: 'fas fa-pencil-ruler' },
                    { name: 'backups-and-restore', icon: 'fas fa-download' },
                    { name: 'vm-notes', icon: 'fas fa-sticky-note', children: [
                        { name: 'pfsense', icon: 'fas fa-folder' },
                        { name: 'mailcow', icon: 'fas fa-folder' }
                    ]},
                    { name: 'alerts-and-monitoring', icon: 'fas fa-bell' }
                ]},
                { name: '20_storage_truenas', icon: 'fas fa-database', children: [
                    { name: 'zfs-pools', icon: 'fas fa-hdd' },
                    { name: 'shares', icon: 'fas fa-share-alt', children: [
                        { name: 'nfs', icon: 'fas fa-folder' },
                        { name: 'smb', icon: 'fas fa-folder' }
                    ]},
                    { name: 'snapshots', icon: 'fas fa-camera' }
                ]},
                { name: '30_network', icon: 'fas fa-network-wired', children: [
                    { name: 'firewall-rules', icon: 'fas fa-shield-alt' }
                ]},
                { name: '40_services', icon: 'fas fa-cogs', children: [
                    { name: 'mailcow', icon: 'fas fa-envelope' },
                    { name: 'monitoring', icon: 'fas fa-chart-bar' },
                    { name: 'media', icon: 'fas fa-play-circle' }
                ]},
                { name: '50_docs-and-runbooks', icon: 'fas fa-book' }
            ]},
            { name: 'reference-library', icon: 'fas fa-book-open', children: [
                { name: 'standards', icon: 'fas fa-balance-scale' },
                { name: 'manuals', icon: 'fas fa-book' },
                { name: 'books', icon: 'fas fa-book-reader' },
                { name: 'research-papers', icon: 'fas fa-file-alt' }
            ]},
            { name: '_old-archives', icon: 'fas fa-archive', children: [
                { name: 'driveC_docs', icon: 'fas fa-hdd' },
                { name: 'downloads_backup', icon: 'fas fa-download' },
                { name: 'old-external-hdd', icon: 'fas fa-hdd' },
                { name: 'misc', icon: 'fas fa-boxes' }
            ]},
            { name: '_unsorted', icon: 'fas fa-question-circle', children: [
                { name: 'personal', icon: 'fas fa-user' },
                { name: 'work', icon: 'fas fa-briefcase' },
                { name: 'homelab', icon: 'fas fa-server' },
                { name: 'reference', icon: 'fas fa-book' }
            ]},
            { name: '_archive', icon: 'fas fa-archive', children: [
                { name: 'personal', icon: 'fas fa-user' },
                { name: 'work', icon: 'fas fa-briefcase' },
                { name: 'homelab', icon: 'fas fa-server' },
                { name: 'reference', icon: 'fas fa-book' }
            ]}
        ];

        // Initialize the application
        function init() {
            renderFileTable();
            renderCategories();
            renderFolderTree();
            updateStats();
            setupEventListeners();
            showNotification('System initialized successfully!', 'success');
        }

        // Select directory function
        function selectDirectory() {
            // In a real application, this would open a directory dialog
            // For this example, we'll simulate it with a prompt
            const newDirectory = prompt('Enter the directory path:', currentDirectory);
            
            if (newDirectory && newDirectory.trim() !== '') {
                currentDirectory = newDirectory;
                document.getElementById('directory-path').value = currentDirectory;
                addToLog(`Directory changed to: ${currentDirectory}`);
                showNotification('Directory changed successfully', 'success');
            }
        }

        // Initialize directory structure
        function initializeDirectory() {
            addToLog(`Initializing directory structure at: ${currentDirectory}`);
            
            // Simulate directory creation
            showNotification('Creating directory structure...', 'success');
            
            // Simulate the process with a progress bar
            const progressFill = document.getElementById('upload-progress');
            let progress = 0;
            
            const progressInterval = setInterval(() => {
                progress += 5;
                progressFill.style.width = `${progress}%`;
                
                if (progress >= 100) {
                    clearInterval(progressInterval);
                    addToLog('Directory structure created successfully!');
                    showNotification('Directory structure created successfully!', 'success');
                    
                    // Reset progress bar after a delay
                    setTimeout(() => {
                        progressFill.style.width = '0%';
                    }, 1000);
                }
            }, 100);
        }

        // Render the file table
        function renderFileTable() {
            const tableBody = document.getElementById('file-table-body');
            tableBody.innerHTML = '';
            
            const activeCategory = document.querySelector('.category-filter.active').dataset.category;
            
            files.filter(file => activeCategory === 'all' || file.category === activeCategory)
                 .forEach(file => {
                const row = document.createElement('tr');
                
                row.innerHTML = `
                    <td>${file.name}</td>
                    <td><span class="tag tag-category">${file.category}</span></td>
                    <td><span class="tag tag-status">${file.status}</span></td>
                    <td>
                        <button class="btn btn-primary" onclick="renameFile(${file.id})">
                            <i class="fas fa-i-cursor"></i> Rename
                        </button>
                        <button class="btn btn-warning" onclick="changeCategory(${file.id})">
                            <i class="fas fa-tag"></i> Recategorize
                        </button>
                    </td>
                `;
                
                tableBody.appendChild(row);
            });
        }

        // Render categories
        function renderCategories() {
            // Render category filters
            const filtersContainer = document.getElementById('category-filters');
            filtersContainer.innerHTML = '<div class="category-filter active" data-category="all">All Files</div>';
            
            categories.forEach(category => {
                const filter = document.createElement('div');
                filter.className = 'category-filter';
                filter.dataset.category = category;
                filter.textContent = category;
                filter.addEventListener('click', () => {
                    document.querySelectorAll('.category-filter').forEach(f => f.classList.remove('active'));
                    filter.classList.add('active');
                    renderFileTable();
                });
                
                filtersContainer.appendChild(filter);
            });
        }

        // Render folder tree
        function renderFolderTree() {
            const treeContainer = document.getElementById('folder-tree');
            treeContainer.innerHTML = '';
            
            const renderFolder = (folder, level = 0) => {
                const folderItem = document.createElement('div');
                folderItem.className = 'folder-item';
                folderItem.style.paddingLeft = `${10 + level * 15}px`;
                folderItem.innerHTML = `
                    <i class="${folder.icon}"></i> ${folder.name}
                `;
                
                folderItem.addEventListener('click', () => {
                    document.querySelectorAll('.folder-item').forEach(item => {
                        item.classList.remove('active');
                    });
                    folderItem.classList.add('active');
                    addToLog(`Selected folder: ${folder.name}`);
                });
                
                treeContainer.appendChild(folderItem);
                
                if (folder.children) {
                    folder.children.forEach(child => {
                        renderFolder(child, level + 1);
                    });
                }
            };
            
            folderStructure.forEach(folder => {
                renderFolder(folder);
            });
        }

        // Update statistics
        function updateStats() {
            document.getElementById('total-files').textContent = files.length;
            document.getElementById('processed-files').textContent = files.filter(f => f.status === 'Processed').length;
            document.getElementById('categories-count').textContent = categories.length;
            
            const processedCount = files.filter(f => f.status === 'Processed').length;
            const successRate = files.length > 0 ? Math.round((processedCount / files.length) * 100) : 100;
            document.getElementById('success-rate').textContent = `${successRate}%`;
        }

        // Set up event listeners
        function setupEventListeners() {
            const uploadArea = document.getElementById('upload-area');
            const fileInput = document.getElementById('file-input');
            
            uploadArea.addEventListener('click', () => {
                fileInput.click();
            });
            
            fileInput.addEventListener('change', handleFileSelect);
            
            uploadArea.addEventListener('dragover', (e) => {
                e.preventDefault();
                uploadArea.classList.add('dragover');
            });
            
            uploadArea.addEventListener('dragleave', () => {
                uploadArea.classList.remove('dragover');
            });
            
            uploadArea.addEventListener('drop', (e) => {
                e.preventDefault();
                uploadArea.classList.remove('dragover');
                handleFiles(e.dataTransfer.files);
            });
        }

        // Handle file selection
        function handleFileSelect(e) {
            handleFiles(e.target.files);
        }

        // Handle uploaded files
        function handleFiles(fileList) {
            if (fileList.length === 0) return;
            
            const uploadStatus = document.getElementById('upload-status');
            const progressFill = document.getElementById('upload-progress');
            
            uploadStatus.textContent = `Uploading ${fileList.length} file(s)...`;
            
            let uploaded = 0;
            const total = fileList.length;
            
            // Simulate upload process
            const simulateUpload = () => {
                if (uploaded < total) {
                    progressFill.style.width = `${(uploaded / total) * 100}%`;
                    
                    // Add the file to our list
                    const file = fileList[uploaded];
                    const category = categorizeFile(file.name);
                    
                    files.push({
                        id: files.length + 1,
                        name: file.name,
                        category: category,
                        status: 'Pending',
                        path: `/${category}`
                    });
                    
                    uploaded++;
                    addToLog(`Uploaded: ${file.name} -> Categorized as: ${category}`);
                    
                    setTimeout(simulateUpload, 300);
                } else {
                    uploadStatus.textContent = 'Upload complete!';
                    progressFill.style.width = '100%';
                    
                    // Update UI
                    renderFileTable();
                    updateStats();
                    showNotification(`Successfully uploaded ${total} files`, 'success');
                    
                    // Reset after a delay
                    setTimeout(() => {
                        progressFill.style.width = '0%';
                        uploadStatus.textContent = 'Ready to upload';
                    }, 2000);
                }
            };
            
            simulateUpload();
        }

        // Categorize file based on name
        function categorizeFile(filename) {
            const ext = filename.split('.').pop().toLowerCase();
            
            if (['doc', 'docx', 'txt', 'rtf'].includes(ext)) return 'Documents';
            if (['xls', 'xlsx', 'csv'].includes(ext)) return 'Data';
            if (['jpg', 'jpeg', 'png', 'gif', 'bmp'].includes(ext)) return 'Media';
            if (['pdf'].includes(ext)) return 'Reports';
            if (['ppt', 'pptx'].includes(ext)) return 'Presentations';
            
            return 'Other';
        }

        // Process files (simulate the batch script functionality)
        function processFiles() {
            addToLog('Starting file processing...');
            
            let processed = 0;
            const total = files.filter(f => f.status === 'Pending').length;
            
            if (total === 0) {
                addToLog('No files to process.');
                showNotification('No files to process', 'warning');
                return;
            }
            
            const processNextFile = () => {
                if (processed < total) {
                    const pendingFiles = files.filter(f => f.status === 'Pending');
                    if (pendingFiles.length === 0) return;
                    
                    const file = pendingFiles[0];
                    const newName = renameFileLogic(file.name);
                    
                    // Update file status and name
                    file.name = newName;
                    file.status = 'Processed';
                    
                    addToLog(`Processed: ${file.name} -> Renamed to: ${newName}`);
                    
                    processed++;
                    document.getElementById('upload-progress').style.width = `${(processed / total) * 100}%`;
                    
                    // Update UI
                    renderFileTable();
                    updateStats();
                    
                    setTimeout(processNextFile, 500);
                } else {
                    addToLog('File processing completed.');
                    document.getElementById('upload-progress').style.width = '0%';
                    showNotification(`Processed ${total} files successfully`, 'success');
                }
            };
            
            processNextFile();
        }

        // Rename file logic (simplified version of your batch script rules)
        function renameFileLogic(filename) {
            let newName = filename;
            
            // Rule 1: Remove ((( and ))) patterns
            newName = newName.replace(/\(\(\(/g, '').replace(/\)\)\)/g, '');
            
            // Rule 2: Replace __inbox_2025 with current year
            const currentYear = new Date().getFullYear();
            newName = newName.replace(/__inbox_2025/g, `__inbox_${currentYear}`);
            
            // Rule 3: Remove date patterns (YYYY-MM-DD)
            newName = newName.replace(/-Sat-/g, '-')
                            .replace(/-Fri-/g, '-')
                            .replace(/-Thu-/g, '-')
                            .replace(/-Wed-/g, '-')
                            .replace(/-Tue-/g, '-')
                            .replace(/-Mon-/g, '-')
                            .replace(/-Sun-/g, '-');
            
            return newName;
        }

        // Rename a specific file
        function renameFile(id) {
            const file = files.find(f => f.id === id);
            if (file) {
                const newName = renameFileLogic(file.name);
                addToLog(`Renamed: ${file.name} -> ${newName}`);
                file.name = newName;
                file.status = 'Processed';
                renderFileTable();
                updateStats();
                showNotification('File renamed successfully', 'success');
            }
        }

        // Change category of a file
        function changeCategory(id) {
            const file = files.find(f => f.id === id);
            if (file) {
                const newCategory = prompt('Enter new category:', file.category);
                if (newCategory && newCategory.trim() !== '') {
                    addToLog(`Recategorized: ${file.name} -> from ${file.category} to ${newCategory}`);
                    file.category = newCategory;
                    file.path = `/${newCategory}`;
                    
                    // If this is a new category, add it to our list
                    if (!categories.includes(newCategory)) {
                        categories.push(newCategory);
                        renderCategories();
                    }
                    
                    renderFileTable();
                    showNotification('File category updated', 'success');
                }
            }
        }

        // Add entry to log
        function addToLog(message) {
            const now = new Date();
            const timestamp = now.toLocaleTimeString();
            logEntries.push(`${timestamp} - ${message}`);
            
            const logContainer = document.getElementById('log-container');
            logContainer.innerHTML += `<div>${timestamp} - ${message}</div>`;
            logContainer.scrollTop = logContainer.scrollHeight;
        }

        // Clear log
        function clearLog() {
            logEntries = [];
            document.getElementById('log-container').innerHTML = '<div>Log cleared.</div>';
            showNotification('Log cleared', 'success');
        }

        // Simulate directory scanning
        function simulateScan() {
            addToLog('Scanning directory for files...');
            
            // Simulate finding files
            setTimeout(() => {
                const newFiles = [
                    { id: files.length + 1, name: 'scanned_file1.txt', category: 'Documents', status: 'Pending', path: '/Documents' },
                    { id: files.length + 2, name: 'scanned_image-Sun-2023-04-09.jpg', category: 'Media', status: 'Pending', path: '/Media' },
                    { id: files.length + 3, name: 'data_(((temp))).xlsx', category: 'Data', status: 'Pending', path: '/Data' }
                ];
                
                files = [...files, ...newFiles];
                
                newFiles.forEach(file => {
                    addToLog(`Found: ${file.name} -> Categorized as: ${file.category}`);
                });
                
                renderFileTable();
                updateStats();
                addToLog('Directory scan completed.');
                showNotification('Directory scan completed', 'success');
            }, 1500);
        }
        
        // Show notification
        function showNotification(message, type) {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.className = `notification ${type} show`;
            
            setTimeout(() => {
                notification.className = 'notification';
            }, 3000);
        }

        // Initialize the application when the page loads
        window.onload = init;
    </script>
</body>
</html>